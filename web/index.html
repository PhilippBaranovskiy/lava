<!doctype html>
<html>
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

<title>Lava Lamp Web</title>
<script type="text/javascript">
	var rgb = [
		 Math.floor(Math.random() * (255 - 0 + 1) + 0),
		 Math.floor(Math.random() * (255 - 0 + 1) + 0),
		 Math.floor(Math.random() * (255 - 0 + 1) + 0)
	];
	var rgb_prev = [
		rgb[0]%2 ? rgb[0]-1 : rgb[0]+1,
		!rgb[0]%2 ? rgb[1]-1 : rgb[1]+1,
		rgb[2]%2 ? rgb[2]-1 : rgb[2]+1
	];
	var get_index = function () {
		return Math.floor(Math.random()*10)%3;
	};
	var set_bg = function () {
		document.body.style.backgroundColor = 'rgb('+rgb.join(',')+')';
	};
	window.addEventListener('DOMContentLoaded', function () {
		setInterval(function(){
			var t = get_index();
			if (rgb[t] < rgb_prev[t]) {
				rgb_prev[t] = rgb[t];
				rgb[t] = rgb[t] === 0 ? 1 : rgb[t]-1;
			} else if (rgb_prev[t] < rgb[t]) {
				rgb_prev[t] = rgb[t];
				rgb[t] = rgb[t] === 255 ? 254 : rgb[t]+1;
			}
			set_bg();
		}, 500);
	});

</script>
</head><body></body></html>